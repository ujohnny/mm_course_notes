Лекция 8. Пролог
================



В прологе нет функций, есть только предикаты. А они именуются в нижнем регистре.

Пример:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fact(0, 1) :- !.
fact(X, Y) :- X1 = X-1, fact(X1, Y1), Y = X * Y1.

goal
fact(2, Z);
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Здесь

-   `:-` означает "если"

-   `!` означает отсечение

-   С большой буквы начинаются переменные.

-   `goal` означает "точку входа"



### Некоторые программки

Возведение в степень

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
pow1(X, 0, 1) :- !.
pow1(X, Y, R) :- Y > 0, !, Y1 = Y-1, pow1(X, Y1, R1), R = X*R1.
pow1(X, Y, R) :- !, Y1 = Y+1, pow1(X, Y1, R1), R = R1 / X.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Быстрое возведение в степень

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
qpow(X, 0, 1) :- !.
qpow(X, 1, X) :- !.
qpow(X, N, Y) :- N mod 2 = 1, !, N1 = N-1, qpow(X, N1, Y1), Y =Y1*X.
qpow(X, N, Y) :- !, N1 = N div 2, qpow(X, N1, Y1), Y = Y1*Y1.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



>   Знак отсечения ставится в правиле настолько левее, насколько это возможно.

>   А если правлио длинное, то... может быть несколько отсечений

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
gcd(X, 0, X) :- !.
gcd(X, Y, Z) :- T = X mod Y, gcd(Y, T, Z).
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Существует понятие списка (последовательности).

-   `[]` - пустой список

-   `[5]` - список из одного элемента!

-   `[5,6,3]` - Вы не поверите...

А ещё есть... **паттерн-матчинг**!

`[X | T]` где `X` - голова, а `T` - хвост. Или даже так: `[X, Y, Z | T]`
